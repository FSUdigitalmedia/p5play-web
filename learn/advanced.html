<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>p5.play : Advanced</title>
	<link rel="icon" href="../logo.svg" />
	<link rel="stylesheet" href="mies.css" />
	<link rel="stylesheet" href="style.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
	<script src="../v3/planck.min.js"></script>
	<script src="../v3/p5.play.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.1/ace.min.js"></script>
</head>

<body>
	<nav id="topNav">
		<a href="../index.html" class="active"><img src="../logo.svg" class="logo">p5.play</a>
		<span>:</span>
		<a href="sprite.html">Sprite</a>
		<a href="group.html">Group</a>
		<a href="sprite_animation.html">Animation</a>
		<a href="input_devices.html">Input</a>
		<a href="tiles.html">Tiles</a>
		<a href="camera.html">Camera</a>
		<a href="world.html" class="active">Adv</a>
	</nav>
	<div class="top break"></div>
	<div id="page-0" class="page">
		<script type="text/md">
## Advanced Topics

These reference pages highlight some of the more advanced features of p5.play.

Please read all the other reference pages first!
		</script>
		<script type="text/md">
## Canvas

The `Canvas` class is a wrapper around the p5.play's version of the p5.js `createCanvas` function, which is used to create a canvas element. p5.play's version also provides a few extra features.

If no parameters are passed to `new Canvas()`, it will create a canvas that fills the entire window.

You can also pass an aspect ratio to the Canvas constructor. This will create the largest possible canvas that fits within the window, while maintaining the given aspect ratio. For example, `new Canvas('2:1')` will create a canvas that is twice as wide as it is tall.

Another added feature is the "pixelated" preset. Use it for 8-bit or 16-bit style games!
		</script>
		<script type="text/mie-p5" title="pixelated preset">
function setup() {
	//       (width, height, preset)
	new Canvas(256, 240, 'pixelated x2');
}
function draw() {
	clear();
}
		</script>
	</div>
	<div id="page-1" class="page">
		<script type="text/md">
## World

By default sprites are removed from the world when they go 10000 pixels offscreen relative to the camera's position. To change this set `world.autoCull = false` and use the `group.cull` function to set a different cull boundary.

"Sleeping" sprites are taken out of the physics simulation. A sprite starts "sleeping" when it stops moving and doesn't collide with anything that it wasn't already touching. Allowing non-moving sprites to sleep is good for performance but sometimes you may need to wake up a non-moving sprite. You can disable sleeping completely by setting `world.allowSleeping = false`, or on a per sprite basis by setting `sprite.allowSleeping = false`, or to wake up a sleeping sprite you can `sprite.sleeping = false`.
		</script>
		<div class="minis horiz">
			<script type="text/mie-p5" name="world.allowSleeping = true" horiz>
let ball, floor;

function setup() {
	new Canvas(80, 256);
	world.gravity.y = 10;
	ball = new Sprite(40, 30, 50);
	floor = new Sprite(40, 155, 80, 5, 'static');
}

function draw() {
	clear();
	if (frame == 100)	floor.rotation = 10;
	if (kb.pressing(' ')) ball.sleeping = false;
}
			</script>
			<script type="text/mie-p5" name="world.allowSleeping = false" horiz>
let ball, floor;

function setup() {
	new Canvas(80, 256);
	world.gravity.y = 10;
	world.allowSleeping = false;
	ball = new Sprite(40, 30, 50);
	floor = new Sprite(40, 155, 80, 5, 'static');
}

function draw() {
	clear();
	if (frame == 100)	floor.rotation = 10;
}
			</script>
		</div>
	</div>

	<div class="break"></div>
	<nav id="pageNav"></nav>
	<div class="break"></div>
	<footer class="text-small">
		Created by Quinton Ashley (@quinton-ashley) Copyright 2022.
	</footer>

	<script src="../main.js"></script>
	<script src="learn.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
	<script src="md-tag-parser.js"></script>
	<script src="p5-mini.js"></script>
	<script src="mies.js"></script>
</body>

</html>
