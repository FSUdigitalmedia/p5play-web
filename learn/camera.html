<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>p5.play : Group</title>
	<link rel="icon" href="../favicon.png" />
	<link rel="stylesheet" href="p5-mini.css" />
	<link rel="stylesheet" href="style.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
	<script src="../v3/planck.js"></script>
	<script src="../v3/p5.play.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.8.1/ace.min.js"></script>
</head>

<body>
	<nav id="topNav">
		<a href="../index.html" class="active"><img src="../logo.svg" class="logo">p5.play</a>
		<span>:</span>
		<a href="sprite.html">Sprite</a>
		<a href="group.html">Group</a>
		<a href="sprite_animation.html">Animation</a>
		<a href="input_devices.html">Input</a>
		<a href="tiles.html">Tiles</a>
		<a href="camera.html" class="active">Camera</a>
	</nav>

	<div class="top break"></div>

	<div id="page-0" class="page">
		<script type="text/md">
## Camera

In this example the camera follows the player.

By default, `allSprites.draw()` is called at the end of the p5.js draw loop. However, if you want to control when sprites and groups are drawn, you can draw them separately.

The player and environment of your game should be drawn with the camera on.

UI or HUD sprites, represented by magenta squares in this examples, should be drawn when the camera is off.

`mouse.x` stores the x position of the mouse in relation to the world, which can be larger than the canvas. `camera.mouse.x` stores the x position of the mouse in relation to the canvas.

`camera.zoom` can be used to zoom in and out.
		</script>
		<script type="text/p5" name="camera follow">
let player;

function setup() {
	createCanvas(500, 240);
	player = new Sprite();
}

function draw() {
	background(0);

	camera.on();

	for (let i = 0; i < 10; i++) {
		fill(i * 20, 200, 200); // blue to gray
		rect(-250 + i * 50, -250 + i * 100, 750, 50);
	}

	player.moveTowards(mouse.x, mouse.y, 0.04);
	player.draw();

	camera.x = player.x;
	camera.y = player.y;

	if (mouse.pressing()) camera.zoom = 1;
	else camera.zoom = 0.5;

	camera.off();

	fill(255, 0, 255); // magenta
	for (let i = 1; i < 10; i++) {
		rect(i * 50, 210, 20, 20);
	}
}
		</script>
	</div>

	<div class="break"></div>
	<nav id="pageNav"></nav>
	<div class="break"></div>
	<footer class="text-small">
		Created by Quinton Ashley (@quinton-ashley) Copyright 2022.
	</footer>

	<script src="learn.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
	<script src="md-tag-parser.js"></script>
	<script src="p5-mini.js"></script>
</body>

</html>
