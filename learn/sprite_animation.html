<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>p5play : Animation</title>
	<link rel="icon" href="../main/favicon.png" />
	<link rel="stylesheet" href="style.css">
</head>

<body class="dark">
	<article>
		<nav id="topNav">
			<a href="index.html" id="logoLink" class="active">
				<img alt="p5play logo" src="../main/logo.svg" class="logo">
				<span>p5play</span>
			</a>
			<hr>
			<a href="sprite.html">Sprite</a>
			<a href="group.html">Group</a>
			<a href="sprite_animation.html" class="active">Ani</a>
			<a href="input_devices.html">Input</a>
			<a href="tiles.html">Tiles</a>
			<a href="camera.html">Camera</a>
			<a href="canvas.html">...</a>
			<hr>
			<a id="darkMode" onclick="toggleDarkMode()" tabindex="0" role="button">
				<div id="darkModeIcon"></div>
			</a>
		</nav>

		<div class="break"></div>

		<div id="page-0" class="page">
			<md id="md0-0"></md>
			<script type="mie/p5" name="sequence mode">
let cloudAni;

function setup() {
	new Canvas(500, 160);

	cloudAni = loadAni('assets/cloud_breathing0001.png', 9);
}

function draw() {
	clear();
	animation(cloudAni, 250, 80);
}
			</script>
			<md id="md0-1"></md>
			<script type="mie/p5" name="list mode">
let shapeShifterAni;

function setup() {
	new Canvas(500, 160);

	shapeShifterAni = loadAnimation(
		'assets/asterisk.png',
		'assets/triangle.png',
		'assets/square.png',
		'assets/cloud.png',
		'assets/star.png',
		'assets/mess.png',
		'assets/monster.png'
	);

	shapeShifterAni.frameDelay = 10;
}

function draw() {
	clear();
	animation(shapeShifterAni, 250, 80);
}
			</script>
			<md id="md0-2"></md>
			<script type="mie/p5" name="sprite sheet mode">
let splatAni;

function setup() {
	new Canvas(500, 200);

	splatAni = loadAnimation('assets/explode_sprite_sheet.png', { frameSize: [171, 158], frames: 11 });
}

function draw() {
	clear();
	animation(splatAni, 100, 100);

	scale(0.6);
	image(splatAni.spriteSheet, 320, 80, 500, 154);
}
//
			</script>
		</div>
		<div id="page-1" class="page">
			<md id="md1-0"></md>
			<script type="mie/p5" name="splat">
let ani;

function setup() {
	new Canvas(500, 160);

	ani = loadAni('assets/asterisk_explode0001.png', 11);
}

function draw() {
	clear();

	if (kb.presses('p')) ani.play();
	if (kb.presses('o')) ani.play(0);
	if (kb.presses('ArrowDown')) ani.frameDelay--;
	if (kb.presses('ArrowUp')) ani.frameDelay++;
	if (kb.presses('s')) ani.stop();
	if (kb.presses('r')) ani.rewind();
	if (kb.presses('l')) ani.loop();
	if (kb.presses('n')) ani.noLoop();
	if (kb.presses('ArrowLeft')) ani.previousFrame();
	if (kb.presses('ArrowRight')) ani.nextFrame();
	if (kb.presses('5')) ani.frame = 5;
	if (kb.pressing('x')) ani.scale.x = -1;
	if (kb.pressing('y')) ani.scale.y = -1;
	if (kb.pressing('1')) ani.scale = 1;
	if (kb.pressing('2')) ani.scale = 2;

	animation(ani, 250, 80);
}
//
			</script>
		</div>
		<div id="page-2" class="page">
			<div class="minis horiz">
				<md id="md2-0"></md>
				<md id="md2-1"></md>
			</div>
			<script type="mie/p5" name="sprites with animation">
let ghost;

function setup() {
	new Canvas(500, 160);
	ghost = new Sprite(250, 80, 120);

	ghost.addAni('fly', 'assets/ghost_walk01.png', 3);
	ghost.addAni('idle', 'assets/ghost_standing01.png', 7);
}

function draw() {
	clear();

	ghost.debug = mouse.pressing();

	if (kb.pressing('left')) {
		ghost.ani = 'fly';
		ghost.vel.x = -2;
		ghost.mirror.x = true;
	} else if (kb.pressing('right')) {
		ghost.ani = 'fly';
		ghost.vel.x = 2;
		ghost.mirror.x = false;
	} else {
		ghost.ani = 'idle';
		ghost.vel.x = 0;
	}

	if (kb.pressing('space')) {
		ghost.ani.stop();
	} else {
		ghost.ani.play();
	}
}
			</script>
		</div>
		<div id="page-3" class="page">
			<md id="md3-0"></md>
			<script type="mie/p5" name="splats">
let splats;

function setup() {
	new Canvas(500, 160);

	splats = new Group();
	splats.addAni('assets/asterisk_explode0001.png', 11);
}

function draw() {
	clear();

	if (mouse.presses()) {
		new splats.Sprite(mouse.x, mouse.y);
	}
}
			</script>
		</div>
		<div id="page-4" class="page">
			<div class="minis">
				<md id="md4-0"></md>
				<md id="md4-1"></md>
			</div>
			<div class="minis horiz">
				<script type="mie/p5" name="hero demoMode" hide-editor>
let hero;

function preload() {
	hero = new Sprite(125, 48, 32, 32);
	hero.spriteSheet = 'assets/questKid.png';
	hero.anis.offset.x = 2;
	hero.anis.frameDelay = 32;
	hero.anis.demoMode = true;

	hero.addAnis({
		run: { row: 0, frames: 8 },
		jump: { row: 1, frames: 6 },
		roll: { row: 2, frames: 5 },
		turn: { row: 3, frames: 7 },
		stand: { row: 3, frames: 1 }
	});
	hero.ani = 'run';

	hero.debug = true;
}

function setup() {
	new Canvas(250, 96, 'pixelated x2');
	allSprites.pixelPerfect = true;
}

function draw() {
	clear();
	if (kb.presses('r')) hero.ani = 'run';
	if (kb.presses('j')) hero.ani = 'jump';
	if (kb.presses('l')) hero.ani = 'roll';
	if (kb.presses('t')) hero.ani = 'turn';
	if (kb.presses('s')) hero.ani = 'stand';
	
}
				</script>
				<script type="mie/p5" name="hero">
let hero;

function preload() {
	hero = new Sprite(62, 24, 32, 32);
	hero.spriteSheet = 'assets/questKid.png';
	hero.anis.offset.x = 2;
	hero.anis.frameDelay = 8;

	hero.addAnis({
		run: { row: 0, frames: 8 },
		jump: { row: 1, frames: 6 },
		roll: { row: 2, frames: 5, frameDelay: 14 },
		turn: { row: 3, frames: 7 },
		stand: { row: 3, frames: 1 }
	});
	hero.ani = 'run';
}

function setup() {
	new Canvas(124, 48, 'pixelated x4');
	allSprites.pixelPerfect = true;
}

function draw() {
	clear();
	if (kb.presses('r')) hero.ani = 'run';
	if (kb.presses('j')) hero.ani = 'jump';
	if (kb.presses('l')) hero.ani = 'roll';
	if (kb.presses('t')) hero.ani = 'turn';
	if (kb.presses('s')) hero.ani = 'stand';
}
				</script>
			</div>
		</div>
		<div id="page-5" class="page">
			<md id="md5-0"></md>
			<script type="mie/p5" base-0 hide>
let hero, floor;

function preload() {
	hero = new Sprite(62, 24, 32, 32);
	hero.spriteSheet = '../learn/assets/questKid.png';
	hero.anis.offset.x = 2;
	hero.anis.offset.y = 2;
	hero.anis.frameDelay = 8;

	hero.addAnis({
		run: { row: 0, frames: 8 },
		jump: { row: 1, frames: 6 },
		roll: { row: 2, frames: 5, frameDelay: 14 },
		turn: { row: 3, frames: 7 },
		stand: { row: 3, frames: 1 }
	});
	hero.ani = 'stand';
}

function setup() {
	new Canvas(125, 48, 'pixelated x4');
	world.gravity.y = 10;
	allSprites.pixelPerfect = true;

	floor = new Sprite(62.5, 48, 125, 8, 's');
	floor.color = color(133, 228, 62);
}

function draw() {
	clear();
}
			</script>
			<script type="mie/p5" name="animation sequencing" base="0">
if (kb.presses('up')) hero.ani = ['jump', 'stand'];
if (kb.presses('down')) hero.ani = ['roll', 'stand'];

if (kb.pressing('left')) hero.vel.x = -1;
else if (kb.pressing('right')) hero.vel.x = 1;
else hero.vel.x = 0;

if (hero.ani.name != 'jump' && hero.ani.name != 'roll') {
	if (kb.pressing('left')) {
		hero.ani = 'run';
		hero.mirror.x = true;
	} else if (kb.pressing('right')) {
		hero.ani = 'run';
		hero.mirror.x = false;
	} else {
		hero.ani = 'stand';
	}
}
			</script>
		</div>
		<div id="page-6" class="page">
			<md id="md6-0"></md>
		</div>

		<div class="break"></div>
		<div id="toc">
			<a id="prevPage" class="navLink">Prev Page</a>
			<nav id="pageNav" class="submenu">
				<a data-page="0" href="sprite_animation.html?page=0">Loading Animations</a>
				<a data-page="1" href="sprite_animation.html?page=1">Animation Controls</a>
				<a data-page="2" href="sprite_animation.html?page=2">Sprites with Animations</a>
				<a data-page="3" href="sprite_animation.html?page=3">Groups with Animations</a>
				<a data-page="4" href="sprite_animation.html?page=4">Sprite Sheets with Multiple Animations</a>
				<a data-page="5" href="sprite_animation.html?page=5">Sequencing</a>
				<a data-page="6" href="sprite_animation.html?page=6">Advanced Sequencing</a>
			</nav>
			<a id="nextPage" class="navLink">Next Page</a>
		</div>
		<div class="break"></div>
		<footer id="credits" class="text-small">
			Created by Quinton Ashley (@quinton-ashley) Copyright 2022-2023.
		</footer>
	</article>

	<script src="../v3/q5.min.js"></script>
	<script src="../v3/planck.min.js"></script>
	<script src="../v3/p5play.min.js"></script>

	<script>window.mie = { autoLoad: false };</script>
	<script src="mie.js"></script>
	<script src="learn.js"></script>
</body>

</html>
