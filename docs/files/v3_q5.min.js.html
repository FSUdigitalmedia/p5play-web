<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>v3/q5.min.js - p5play</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../../icon.png" title="p5play"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 3</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/Camera.html">Camera</a></li>
                                <li><a href="../classes/Group.html">Group</a></li>
                                <li><a href="../classes/InputDevice.html">InputDevice</a></li>
                                <li><a href="../classes/p5play.html">p5play</a></li>
                                <li><a href="../classes/Sprite.html">Sprite</a></li>
                                <li><a href="../classes/SpriteAnimation.html">SpriteAnimation</a></li>
                                <li><a href="../classes/Tiles.html">Tiles</a></li>
                                <li><a href="../classes/World.html">World</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: v3/q5.min.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * q5.js
 * @version 1.1
 * @author quinton-ashley and LingDong-
 * @license GPL-3.0-only
 */
function Q5(e,t){if(&quot;auto&quot;==e){if(void 0===window.setup)return;e=&quot;global&quot;}1==arguments.length&amp;&amp;&quot;string&quot;!=typeof e&amp;&amp;(t=arguments[0],e=null),&quot;global&quot;==e&amp;&amp;(Q5._hasGlobal=!0);let o=this;o.canvas=document.createElement(&quot;canvas&quot;);let a=o.canvas.getContext(&quot;2d&quot;);o.width=100,o.height=100,o.canvas.width=o.width,o.canvas.height=o.height,&quot;graphics&quot;!=e&amp;&amp;&quot;image&quot;!=e&amp;&amp;(document.body?t?t.append(o.canvas):document.body.appendChild(o.canvas):window.addEventListener(&quot;load&quot;,(()=&gt;{document.body.appendChild(o.canvas)}))),p(),o.MAGIC=161533525,o.RGB=0,o.HSV=1,o.HSB=1,o.CHORD=0,o.PIE=1,o.OPEN=2,o.RADIUS=&quot;radius&quot;,o.CORNER=&quot;corner&quot;,o.CORNERS=&quot;corners&quot;,o.ROUND=&quot;round&quot;,o.SQUARE=&quot;butt&quot;,o.PROJECT=&quot;square&quot;,o.MITER=&quot;miter&quot;,o.BEVEL=&quot;bevel&quot;,o.CLOSE=1,o.BLEND=&quot;source-over&quot;,o.REMOVE=&quot;destination-out&quot;,o.ADD=&quot;lighter&quot;,o.DARKEST=&quot;darken&quot;,o.LIGHTEST=&quot;lighten&quot;,o.DIFFERENCE=&quot;difference&quot;,o.SUBTRACT=&quot;subtract&quot;,o.EXCLUSION=&quot;exclusion&quot;,o.MULTIPLY=&quot;multiply&quot;,o.SCREEN=&quot;screen&quot;,o.REPLACE=&quot;copy&quot;,o.OVERLAY=&quot;overlay&quot;,o.HARD_LIGHT=&quot;hard-light&quot;,o.SOFT_LIGHT=&quot;soft-light&quot;,o.DODGE=&quot;color-dodge&quot;,o.BURN=&quot;color-burn&quot;,o.NORMAL=&quot;normal&quot;,o.ITALIC=&quot;italic&quot;,o.BOLD=&quot;bold&quot;,o.BOLDITALIC=&quot;italic bold&quot;,o.CENTER=&quot;center&quot;,o.LEFT=&quot;left&quot;,o.RIGHT=&quot;right&quot;,o.TOP=&quot;top&quot;,o.BOTTOM=&quot;bottom&quot;,o.BASELINE=&quot;alphabetic&quot;,o.LANDSCAPE=&quot;landscape&quot;,o.PORTRAIT=&quot;portrait&quot;,o.ALT=18,o.BACKSPACE=8,o.CONTROL=17,o.DELETE=46,o.DOWN_ARROW=40,o.ENTER=13,o.ESCAPE=27,o.LEFT_ARROW=37,o.OPTION=18,o.RETURN=13,o.RIGHT_ARROW=39,o.SHIFT=16,o.TAB=9,o.UP_ARROW=38,o.DEGREES=&quot;degrees&quot;,o.RADIANS=&quot;radians&quot;,o.HALF_PI=Math.PI/2,o.PI=Math.PI,o.QUARTER_PI=Math.PI/4,o.TAU=2*Math.PI,o.TWO_PI=2*Math.PI,o.THRESHOLD=1,o.GRAY=2,o.OPAQUE=3,o.INVERT=4,o.POSTERIZE=5,o.DILATE=6,o.ERODE=7,o.BLUR=8,o.ARROW=&quot;default&quot;,o.CROSS=&quot;crosshair&quot;,o.HAND=&quot;pointer&quot;,o.MOVE=&quot;move&quot;,o.TEXT=&quot;text&quot;,o.VIDEO={video:!0,audio:!1},o.AUDIO={video:!1,audio:!0},o.SHR3=1,o.LCG=2,o.HARDWARE_FILTERS=!0,o.hint=(e,t)=&gt;{o[e]=t},o.frameCount=0,o.mouseX=0,o.mouseY=0,o.pmouseX=0,o.pmouseY=0,o.mouseButton=null,o.keyIsPressed=!1,o.mouseIsPressed=!1,o.key=null,o.keyCode=null,o.pixels=[],o.accelerationX=0,o.accelerationY=0,o.accelerationZ=0,o.rotationX=0,o.rotationY=0,o.rotationZ=0,o.relRotationX=0,o.relRotationY=0,o.relRotationZ=0,o.pAccelerationX=0,o.pAccelerationY=0,o.pAccelerationZ=0,o.pRotationX=0,o.pRotationY=0,o.pRotationZ=0,o.pRelRotationX=0,o.pRelRotationY=0,o.pRelRotationZ=0,o.touches=[],o._colorMode=o.RGB,o._doStroke=!0,o._doFill=!0,o._strokeSet=!1,o._fillSet=!1,o._ellipseMode=o.CENTER,o._rectMode=o.CORNER,o._curveDetail=20,o._curveAlpha=0,o._loop=!0,o._textFont=&quot;sans-serif&quot;,o._textSize=12,o._textLeading=12,o._textStyle=&quot;normal&quot;,o._pixelDensity=1,o._lastFrameTime=0,o._targetFrameRate=null,o._frameRate=o._fps=60,o._tint=null;let n=null,r=!0,i=[],s=null,l=0,h={},c=0,d=null,u=null,_=null;Object.defineProperty(o,&quot;deviceOrientation&quot;,{get:()=&gt;90==Math.abs(window.orientation)?o.LANDSCAPE:o.PORTRAIT}),Object.defineProperty(o,&quot;windowWidth&quot;,{get:()=&gt;window.innerWidth}),Object.defineProperty(o,&quot;windowHeight&quot;,{get:()=&gt;window.innerHeight}),Object.defineProperty(o,&quot;drawingContext&quot;,{get:()=&gt;a}),o.createCanvas=(t,a)=&gt;{o.width=t,o.height=a,o.canvas.width=t*o._pixelDensity,o.canvas.height=a*o._pixelDensity,p(),&quot;graphics&quot;!=e&amp;&amp;&quot;image&quot;!=e&amp;&amp;o.pixelDensity(2)},o.resizeCanvas=(e,t)=&gt;{o.width=e,o.height=t,o.canvas.width=e*o._pixelDensity,o.canvas.height=t*o._pixelDensity},o.createGraphics=(e,t)=&gt;{let o=new Q5(&quot;graphics&quot;);return o.createCanvas(e,t),o},o.createImage=(e,t)=&gt;new Q5.Image(e,t),o.pixelDensity=e=&gt;(void 0===e||(o._pixelDensity=e,o.canvas.width=Math.ceil(o.width*e),o.canvas.height=Math.ceil(o.height*e),o.canvas.style.width=o.width+&quot;px&quot;,o.canvas.style.height=o.height+&quot;px&quot;,a.scale(o._pixelDensity,o._pixelDensity),p()),o._pixelDensity),o.map=(e,t,o,a,n,r)=&gt;{let i=a+1*(e-t)/(o-t)*(n-a);return r?a&lt;n?Math.min(Math.max(i,a),n):Math.min(Math.max(i,n),a):i},o.lerp=(e,t,o)=&gt;e*(1-o)+t*o,o.constrain=(e,t,o)=&gt;Math.min(Math.max(e,t),o),o.dist=function(){return 4==arguments.length?Math.hypot(arguments[0]-arguments[2],arguments[1]-arguments[3]):Math.hypot(arguments[0]-arguments[3],arguments[1]-arguments[4],arguments[2]-arguments[5])},o.norm=(e,t,a)=&gt;o.map(e,t,a,0,1),o.sq=e=&gt;e*e,o.fract=e=&gt;e-Math.floor(e),o.angleMode=e=&gt;o._angleMode=e,o._DEGTORAD=Math.PI/180,o._RADTODEG=180/Math.PI,o.degrees=e=&gt;e*o._RADTODEG,o.radians=e=&gt;e*o._DEGTORAD,o.abs=Math.abs,o.ceil=Math.ceil,o.exp=Math.exp,o.floor=Math.floor,o.log=Math.log,o.mag=Math.hypot,o.max=Math.max,o.min=Math.min,o.round=Math.round,o.pow=Math.pow,o.sqrt=Math.sqrt,o.sin=e=&gt;(&quot;degrees&quot;==o._angleMode&amp;&amp;(e=o.radians(e)),Math.sin(e)),o.cos=e=&gt;(&quot;degrees&quot;==o._angleMode&amp;&amp;(e=o.radians(e)),Math.cos(e)),o.tan=e=&gt;(&quot;degrees&quot;==o._angleMode&amp;&amp;(e=o.radians(e)),Math.tan(e)),o.asin=e=&gt;{let t=Math.asin(e);return&quot;degrees&quot;==o._angleMode&amp;&amp;(t=o.degrees(t)),t},o.acos=e=&gt;{let t=Math.acos(e);return&quot;degrees&quot;==o._angleMode&amp;&amp;(t=o.degrees(t)),t},o.atan=e=&gt;{let t=Math.atan(e);return&quot;degrees&quot;==o._angleMode&amp;&amp;(t=o.degrees(t)),t},o.atan2=(e,t)=&gt;{let a=Math.atan2(e,t);return&quot;degrees&quot;==o._angleMode&amp;&amp;(a=o.degrees(a)),a},o.nf=(e,t,o)=&gt;{let a=e&lt;0,n=e.toString();return a&amp;&amp;(n=n.slice(1)),n=n.padStart(t,&quot;0&quot;),o&gt;0&amp;&amp;(-1==n.indexOf(&quot;.&quot;)&amp;&amp;(n+=&quot;.&quot;),n=n.padEnd(t+1+o,&quot;0&quot;)),a&amp;&amp;(n=&quot;-&quot;+n),n},o.Vector=class{constructor(e,t,o){this.x=e||0,this.y=t||0,this.z=o||0,this._cn=null,this._cnsq=null}set(e,t,o){this.x=e||0,this.y=t||0,this.z=o||0}copy(){return new o.Vector(this.x,this.y,this.z)}_arg2v(e,t,o){return void 0!==e.x?e:void 0!==t?{x:e,y:t,z:o||0}:{x:e,y:e,z:e}}_calcNorm(){null==this._cnsq&amp;&amp;(this._cnsq=this.x*this.x+this.y*this.y+this.z*this.z,this._cn=Math.sqrt(this._cnsq))}_deprecNorm(){this._cnsq=null,this._cn=null}add(){let e=this._arg2v(...arguments);return this.x+=e.x,this.y+=e.y,this.z+=e.z,this._deprecNorm(),this}rem(){let e=this._arg2v(...arguments);return this.x%=e.x,this.y%=e.y,this.z%=e.z,this._deprecNorm(),this}sub(){let e=this._arg2v(...arguments);return this.x-=e.x,this.y-=e.y,this.z-=e.z,this._deprecNorm(),this}mult(){let e=this._arg2v(...arguments);return this.x*=e.x,this.y*=e.y,this.z*=e.z,this._deprecNorm(),this}div(){let e=this._arg2v(...arguments);return this.x/=e.x,this.y/=e.y,this.z/=e.z,this._deprecNorm(),this}mag(){return this._calcNorm(),this._cn}magSq(){return this._calcNorm(),this._cnsq}dot(){let e=this._arg2v(...arguments);return this.x*e.x+this.y*e.y+this.z*e.z}dist(){let e=this._arg2v(...arguments),t=this.x-e.x,o=this.y-e.y,a=this.z-e.z;return Math.sqrt(t*t+o*o+a*a)}cross(){let e=this._arg2v(...arguments),t=this.y*e.z-this.z*e.y,o=this.z*e.x-this.x*e.z,a=this.x*e.y-this.y*e.x;return this.x=t,this.y=o,this.z=a,this._deprecNorm(),this}normalize(){this._calcNorm();let e=this._cn;return this.x/=e,this.y/=e,this.z/=e,this._cn=1,this._cnsq=1,this}limit(e){this._calcNorm();let t=this._cn;if(t&gt;e){let o=e/t;this.x*=o,this.y*=o,this.z*=o,this._cn=e,this._cnsq=e*e}return this}setMag(e){this._calcNorm();let t=e/this._cn;return this.x*=t,this.y*=t,this.z*=t,this._cn=e,this._cnsq=e*e,this}heading(){return o.atan2(this.y,this.x)}rotate(e){let t=o.cos(e),a=o.sin(e),n=this.x*t-this.y*a,r=this.x*a+this.y*t;return this.x=n,this.y=r,this}angleBetween(){let e=this._arg2v(...arguments);const t=this.dot(e)/(this.mag()*e.mag());let a;return a=o.tan(Math.min(1,Math.max(-1,t))),a*=Math.sign(this.cross(e).z||1),a}lerp(){let e=[...arguments],t=this._arg2v(...e.slice(0,-1)),o=e[e.length-1];return this.x+=(t.x-this.x)*o,this.y+=(t.y-this.y)*o,this.z+=(t.z-this.z)*o,this._deprecNorm(),this}reflect(e){return e.normalize(),this.sub(e.mult(2*this.dot(e)))}array(){return[this.x,this.y,this.z]}equals(e,t){return t??=Number.EPSILON||0,Math.abs(e.x-this.x)&lt;t&amp;&amp;Math.abs(e.y-this.y)&lt;t&amp;&amp;Math.abs(e.z-this.z)&lt;t}fromAngle(e,t){return void 0===t&amp;&amp;(t=1),this._cn=t,this._cnsq=t*t,this.x=t*o.cos(e),this.y=t*o.sin(e),this.z=0,this}fromAngles(e,t,a){void 0===a&amp;&amp;(a=1),this._cn=a,this._cnsq=a*a;const n=o.cos(t),r=o.sin(t),i=o.cos(e),s=o.sin(e);return this.x=a*s*r,this.y=-a*i,this.z=a*s*n,this}random2D(){return this._cn=this._cnsq=1,this.fromAngle(Math.random()*Math.PI*2)}random3D(){return this._cn=this._cnsq=1,this.fromAngles(Math.random()*Math.PI*2,Math.random()*Math.PI*2)}toString(){return&#x60;[${this.x}, ${this.y}, ${this.z}]&#x60;}},o.Vector.add=(e,t)=&gt;new o.Vector(e.x+t.x,e.y+t.y,e.z+t.z),o.Vector.rem=(e,t)=&gt;new o.Vector(e.x%t.x,e.y%t.y,e.z%t.z),o.Vector.sub=(e,t)=&gt;new o.Vector(e.x-t.x,e.y-t.y,e.z-t.z),o.Vector.mult=(e,t)=&gt;void 0===t.x?new o.Vector(e.x*t,e.y*t,e.z*t):new o.Vector(e.x*t.x,e.y*t.y,e.z*t.z),o.Vector.div=(e,t)=&gt;void 0===t.x?new o.Vector(e.x/t,e.y/t,e.z/t):new o.Vector(e.x/t.x,e.y/t.y,e.z/t.z),o.Vector.dist=(e,t)=&gt;Math.hypot(e.x-t.x,e.y-t.y,e.z-t.z),o.Vector.cross=(e,t)=&gt;new o.Vector(e.y*t.z-e.z*t.y,e.z*t.x-e.x*t.z,e.x*t.y-e.y*t.x),o.Vector.lerp=(e,t,a)=&gt;new o.Vector(e.x+(t.x-e.x)*a,e.y+(t.y-e.y)*a,e.z+(t.z-e.z)*a),o.Vector.equals=(e,t,o)=&gt;e.equals(t,o);for(let e of[&quot;fromAngle&quot;,&quot;fromAngles&quot;,&quot;random2D&quot;,&quot;random3D&quot;])o.Vector[e]=(t,a,n)=&gt;(new o.Vector)[e](t,a,n);o.createVector=(e,t,a)=&gt;new o.Vector(e,t,a),o.curvePoint=(e,t,o,a,n)=&gt;{const r=n*n*n,i=n*n;return e*(-.5*r+i-.5*n)+t*(1.5*r-2.5*i+1)+o*(-1.5*r+2*i+.5*n)+a*(.5*r-.5*i)},o.bezierPoint=(e,t,o,a,n)=&gt;{const r=1-n;return Math.pow(r,3)*e+3*Math.pow(r,2)*n*t+3*r*Math.pow(n,2)*o+Math.pow(n,3)*a},o.curveTangent=(e,t,o,a,n)=&gt;{const r=n*n;return e*(-3*r/2+2*n-.5)+t*(9*r/2-5*n)+o*(-9*r/2+4*n+.5)+a*(3*r/2-n)},o.bezierTangent=(e,t,o,a,n)=&gt;{const r=1-n;return 3*a*Math.pow(n,2)-3*o*Math.pow(n,2)+6*o*r*n-6*t*r*n+3*t*Math.pow(r,2)-3*e*Math.pow(r,2)},o.Color=Q5.Color,o.colorMode=e=&gt;{o._colorMode=e};let m={black:[0,0,0],blue:[0,0,255],brown:[165,42,42],crimson:[220,20,60],gold:[255,215,0],green:[0,128,0],grey:[128,128,128],magenta:[255,0,255],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],red:[255,0,0],white:[255,255,255],yellow:[255,255,0]};function p(){a.fillStyle=&quot;white&quot;,a.strokeStyle=&quot;black&quot;,a.lineCap=&quot;round&quot;,a.lineJoin=&quot;miter&quot;}function g(e){let t=o._angleMode==o.DEGREES?180:Math.PI,a=2*t;if(0&lt;=e&amp;&amp;e&lt;=a)return e;for(;e&lt;0;)e+=a;for(;e&gt;=t;)e-=a;return e}function v(e,t,n,r,i,s,l,h){if(!o._doFill&amp;&amp;!o._doStroke)return;let c=g(i),d=g(s);if(c&gt;d&amp;&amp;([c,d]=[d,c]),0==c){if(0==d)return;if(o._angleMode==o.DEGREES&amp;&amp;360==d||d==o.TAU)return o.ellipse(e,t,n,r)}a.beginPath();for(let i=0;i&lt;h+1;i++){let s=i/h,l=o.lerp(c,d,s),u=o.cos(l)*n/2,_=o.sin(l)*r/2;a[i?&quot;lineTo&quot;:&quot;moveTo&quot;](e+u,t+_)}l==o.CHORD?a.closePath():l==o.PIE&amp;&amp;(a.lineTo(e,t),a.closePath()),o._doFill&amp;&amp;a.fill(),o._doStroke&amp;&amp;a.stroke()}function f(e,t,n,r){(o._doFill||o._doStroke)&amp;&amp;(a.beginPath(),a.ellipse(e,t,n/2,r/2,0,0,o.TAU),o._doFill&amp;&amp;a.fill(),o._doStroke&amp;&amp;a.stroke())}function y(e,t,n,r,i,s,l,h){if(!o._doFill&amp;&amp;!o._doStroke)return;if(void 0===i)return function(e,t,n,r){o._doFill&amp;&amp;a.fillRect(e,t,n,r),o._doStroke&amp;&amp;a.strokeRect(e,t,n,r)}(e,t,n,r);if(void 0===s)return y(e,t,n,r,i,i,i,i);const c=Math.min(Math.abs(r),Math.abs(n))/2;i=Math.min(c,i),s=Math.min(c,s),h=Math.min(c,h),l=Math.min(c,l),a.beginPath(),a.moveTo(e+i,t),a.arcTo(e+n,t,e+n,t+r,s),a.arcTo(e+n,t+r,e,t+r,l),a.arcTo(e,t+r,e,t,h),a.arcTo(e,t,e+n,t,i),a.closePath(),o._doFill&amp;&amp;a.fill(),o._doStroke&amp;&amp;a.stroke()}function x(){i=[]}o.color=function(){let e=arguments;if(1==e.length){if(786698==e[0].MAGIC)return e[0];if(&quot;string&quot;==typeof e[0])return&quot;#&quot;==e[0][0]?new Q5.Color(parseInt(e[0].slice(1,3),16),parseInt(e[0].slice(3,5),16),parseInt(e[0].slice(5,7),16),1):m[e[0]]?new Q5.Color(...m[e[0]],1):new Q5.Color(0,0,0,1)}if(o._colorMode==o.RGB){if(1==e.length)return new Q5.Color(e[0],e[0],e[0],1);if(2==e.length)return new Q5.Color(e[0],e[0],e[0],e[1]/255);if(3==e.length)return new Q5.Color(e[0],e[1],e[2],1);if(4==e.length)return new Q5.Color(e[0],e[1],e[2],e[3]/255)}else{if(1==e.length)return new Q5.Color(...Q5.Color._hsv2rgb(0,0,e[0]/100),1);if(2==e.length)return new Q5.Color(...Q5.Color._hsv2rgb(0,0,e[0]/100),e[1]/255);if(3==e.length)return new Q5.Color(...Q5.Color._hsv2rgb(e[0],e[1]/100,e[2]/100),1);if(4==e.length)return new Q5.Color(...Q5.Color._hsv2rgb(e[0],e[1]/100,e[2]/100),e[3])}return null},o.red=e=&gt;e._r,o.green=e=&gt;e._g,o.blue=e=&gt;e._b,o.alpha=e=&gt;255*e._a,o.hue=e=&gt;(e._inferHSV(),e._h),o.saturation=e=&gt;(e._inferHSV(),e._s),o.brightness=e=&gt;(e._inferHSV(),e._v),o.lightness=e=&gt;100*(.2126*e._r+.7152*e._g+.0722*e._b)/255,o.lerpColor=(e,t,a)=&gt;o._colorMode==o.RGB?new Q5.Color(o.constrain(o.lerp(e._r,t._r,a),0,255),o.constrain(o.lerp(e._g,t._g,a),0,255),o.constrain(o.lerp(e._b,t._b,a),0,255),o.constrain(o.lerp(e._a,t._a,a),0,1)):(e._inferHSV(),t._inferHSV(),new Q5.Color(o.constrain(function(e,t,a){var n=[[Math.abs(t-e),o.map(a,0,1,e,t)],[Math.abs(t+360-e),o.map(a,0,1,e,t+360)],[Math.abs(t-360-e),o.map(a,0,1,e,t-360)]];return n.sort(((e,t)=&gt;e[0]-t[0])),(n[0][1]+720)%360}(e._h,t._h,a),0,360),o.constrain(o.lerp(e._s,t._s,a),0,100),o.constrain(o.lerp(e._v,t._v,a),0,100),o.constrain(o.lerp(e._a,t._a,a),0,1))),o.strokeWeight=e=&gt;{o._doStroke=e&gt;0,a.lineWidth=e},o.stroke=function(){if(o._doStroke=!0,o._strokeSet=!0,&quot;string&quot;==typeof arguments[0])return void(a.strokeStyle=arguments[0]);let e=o.color(...arguments);e._a&lt;=0?o._doStroke=!1:a.strokeStyle=e},o.noStroke=()=&gt;o._doStroke=!1,o.fill=function(){if(o._doFill=!0,o._fillSet=!0,&quot;string&quot;==typeof arguments[0])return void(a.fillStyle=arguments[0]);let e=o.color(...arguments);e._a&lt;=0?o._doFill=!1:a.fillStyle=e},o.noFill=()=&gt;o._doFill=!1,o.smooth=()=&gt;o._smooth=!0,o.noSmooth=()=&gt;o._smooth=!1,o.blendMode=e=&gt;a.globalCompositeOperation=e,o.strokeCap=e=&gt;a.lineCap=e,o.strokeJoin=e=&gt;a.lineJoin=e,o.ellipseMode=e=&gt;o._ellipseMode=e,o.rectMode=e=&gt;o._rectMode=e,o.curveDetail=e=&gt;o._curveDetail=e,o.curveAlpha=e=&gt;o._curveAlpha=e,o.curveTightness=e=&gt;{console.warn(&quot;curveTightness() sets the &#x27;alpha&#x27; parameter of Catmull-Rom curve, and is NOT identical to p5.js counterpart. As this might change in the future, please call curveAlpha() directly.&quot;),o._curveAlpha=e},o.clear=()=&gt;{a.clearRect(0,0,o.canvas.width,o.canvas.height)},o.background=function(){if(arguments[0]&amp;&amp;arguments[0].MAGIC==o.MAGIC)return o.image(arguments[0],0,0,o.width,o.height);a.save(),a.resetTransform(),a.fillStyle=&quot;string&quot;==typeof arguments[0]?arguments[0]:o.color(...Array.from(arguments)),a.fillRect(0,0,o.canvas.width,o.canvas.height),a.restore()},o.line=(e,t,n,r)=&gt;{o._doStroke&amp;&amp;(a.beginPath(),a.moveTo(e,t),a.lineTo(n,r),a.stroke())},o.arc=(e,t,a,n,r,i,s,l)=&gt;{if(r==i)return o.ellipse(e,t,a,n);l??=25,s??=o.PIE,o._ellipseMode==o.CENTER?v(e,t,a,n,r,i,s,l):o._ellipseMode==o.RADIUS?v(e,t,2*a,2*n,r,i,s,l):o._ellipseMode==o.CORNER?v(e+a/2,t+n/2,a,n,r,i,s,l):o._ellipseMode==o.CORNERS&amp;&amp;v((e+a)/2,(t+n)/2,a-e,n-t,r,i,s,l)},o.ellipse=(e,t,a,n)=&gt;{n??=a,o._ellipseMode==o.CENTER?f(e,t,a,n):o._ellipseMode==o.RADIUS?f(e,t,2*a,2*n):o._ellipseMode==o.CORNER?f(e+a/2,t+n/2,a,n):o._ellipseMode==o.CORNERS&amp;&amp;f((e+a)/2,(t+n)/2,a-e,n-t)},o.circle=(e,t,a)=&gt;o.ellipse(e,t,a,a),o.point=(e,t)=&gt;{e.x&amp;&amp;(t=e.y,e=e.x),a.beginPath(),a.ellipse(e,t,.4,.4,0,0,o.TAU),a.stroke()},o.rect=(e,t,a,n,r,i,s,l)=&gt;{o._rectMode==o.CENTER?y(e-a/2,t-n/2,a,n,r,i,s,l):o._rectMode==o.RADIUS?y(e-a,t-n,2*a,2*n,r,i,s,l):o._rectMode==o.CORNER?y(e,t,a,n,r,i,s,l):o._rectMode==o.CORNERS&amp;&amp;y(e,t,a-e,n-t,r,i,s,l)},o.square=(e,t,a,n,r,i,s)=&gt;o.rect(e,t,a,a,n,r,i,s),o.beginShape=()=&gt;{x(),a.beginPath(),r=!0},o.beginContour=()=&gt;{a.closePath(),x(),r=!0},o.endContour=()=&gt;{x(),r=!0},o.vertex=(e,t)=&gt;{x(),r?a.moveTo(e,t):a.lineTo(e,t),r=!1},o.bezierVertex=(e,t,o,n,r,i)=&gt;{x(),a.bezierCurveTo(e,t,o,n,r,i)},o.quadraticVertex=(e,t,o,n)=&gt;{x(),a.quadraticCurveTo(e,t,o,n)},o.bezier=(e,t,a,n,r,i,s,l)=&gt;{o.beginShape(),o.vertex(e,t),o.bezierVertex(a,n,r,i,s,l),o.endShape()},o.triangle=(e,t,a,n,r,i)=&gt;{o.beginShape(),o.vertex(e,t),o.vertex(a,n),o.vertex(r,i),o.endShape(o.CLOSE)},o.quad=(e,t,a,n,r,i,s,l)=&gt;{o.beginShape(),o.vertex(e,t),o.vertex(a,n),o.vertex(r,i),o.vertex(s,l),o.endShape(o.CLOSE)},o.endShape=e=&gt;{x(),e&amp;&amp;a.closePath(),o._doFill&amp;&amp;a.fill(),o._doStroke&amp;&amp;a.stroke(),o._doFill||o._doStroke||(a.save(),a.fillStyle=&quot;none&quot;,a.fill(),a.restore())},o.curveVertex=(e,t)=&gt;{if(i.push([e,t]),i.length&lt;4)return;let n=function(e,t,o,a,n,r,i,s,l,h){function c(e,t,o,a,n,r){let i=Math.pow(a-t,2)+Math.pow(n-o,2);return Math.pow(i,.5*r)+e}let d=[],u=c(0,e,t,o,a,h),_=c(u,o,a,n,r,h),m=c(_,n,r,i,s,h);for(let h=0;h&lt;l;h++){let c=u+h/(l-1)*(_-u),p=[(u-c)/(u-0),(c-0)/(u-0),(_-c)/(_-u),(c-u)/(_-u),(m-c)/(m-_),(c-_)/(m-_),(_-c)/(_-0),(c-0)/(_-0),(m-c)/(m-u),(c-u)/(m-u)];for(let e=0;e&lt;p.length;e+=2)isNaN(p[e])&amp;&amp;(p[e]=1,p[e+1]=0),isFinite(p[e])||(p[e]&gt;0?(p[e]=1,p[e+1]=0):(p[e]=0,p[e+1]=1));let g=e*p[0]+o*p[1],v=t*p[0]+a*p[1],f=o*p[2]+n*p[3],y=a*p[2]+r*p[3],x=n*p[4]+i*p[5],M=r*p[4]+s*p[5],w=g*p[6]+f*p[7],R=v*p[6]+y*p[7],S=f*p[8]+x*p[9],I=y*p[8]+M*p[9],E=w*p[2]+S*p[3],C=R*p[2]+I*p[3];d.push([E,C])}return d}(...i[i.length-4],...i[i.length-3],...i[i.length-2],...i[i.length-1],o._curveDetail,o._curveAlpha);for(let e=0;e&lt;n.length;e++)r?a.moveTo(...n[e]):a.lineTo(...n[e]),r=!1},o.curve=(e,t,a,n,r,i,s,l)=&gt;{o.beginShape(),o.curveVertex(e,t),o.curveVertex(a,n),o.curveVertex(r,i),o.curveVertex(s,l),o.endShape()},o.translate=(e,t)=&gt;a.translate(e,t),o.rotate=e=&gt;{&quot;degrees&quot;==o._angleMode&amp;&amp;(e=o.radians(e)),a.rotate(e)},o.scale=(e,t)=&gt;{t??=e,a.scale(e,t)},o.applyMatrix=(e,t,o,n,r,i)=&gt;{a.transform(e,t,o,n,r,i)},o.shearX=e=&gt;{a.transform(1,0,o.tan(e),1,0,0)},o.shearY=e=&gt;{a.transform(1,o.tan(e),0,1,0,0)},o.resetMatrix=()=&gt;{a.resetTransform(),a.scale(o._pixelDensity,o._pixelDensity)},o._styleNames=[&quot;_doStroke&quot;,&quot;_doFill&quot;,&quot;_strokeSet&quot;,&quot;_fillSet&quot;,&quot;_tint&quot;,&quot;_imageMode&quot;,&quot;_rectMode&quot;,&quot;_ellipseMode&quot;,&quot;_textFont&quot;,&quot;_textLeading&quot;,&quot;_leadingSet&quot;,&quot;_textSize&quot;,&quot;_textAlign&quot;,&quot;_textBaseline&quot;,&quot;_textStyle&quot;,&quot;_textWrap&quot;],o._ctxStyleNames=[&quot;strokeStyle&quot;,&quot;fillStyle&quot;,&quot;lineWidth&quot;,&quot;lineCap&quot;,&quot;lineJoin&quot;],o._styles=[],o._ctxStyles=[],o.pushMatrix=o.push=()=&gt;{a.save();let e={};for(let t of o._styleNames)e[t]=o[t];o._styles.push(e);let t={};for(let e of o._ctxStyleNames)t[e]=a[e];o._ctxStyles.push(t)},o.popMatrix=o.pop=()=&gt;{a.restore();let e=o._styles.pop();for(let t of o._styleNames)o[t]=e[t];let t=o._ctxStyles.pop();for(let e of o._ctxStyleNames)a[e]=t[e]},o.imageMode=e=&gt;o._imageMode=e,o.image=(e,t,n,r,i,s,l,h,c)=&gt;{let d=e.MAGIC==o.MAGIC?e.canvas:e;function _(){if(e.MAGIC!=o.MAGIC||!o._tint)return;let t=e.canvas.getContext(&quot;2d&quot;);t.save(),t.resetTransform(),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.drawImage(u.canvas,0,0),t.restore()}if(e.MAGIC==o.MAGIC&amp;&amp;null!=o._tint&amp;&amp;(!function(e,t){null==u&amp;&amp;(u=document.createElement(&quot;canvas&quot;).getContext(&quot;2d&quot;));t??=e||a.canvas.height,e??=a.canvas.width,(u.canvas.width!=e||u.canvas.height!=t)&amp;&amp;(u.canvas.width=e,u.canvas.height=t)}(e.canvas.width,e.canvas.height),u.drawImage(e.canvas,0,0),e.tinted(o._tint)),r||(e.MAGIC==o.MAGIC||e.width?(r=e.width,i=e.height):(r=e.videoWidth,i=e.videoHeight)),&quot;center&quot;==o._imageMode&amp;&amp;(t-=.5*r,n-=.5*i),void 0===s)return a.drawImage(d,t,n,r,i),void _();h??=d.width,c??=d.height,a.drawImage(d,s,l,h,c,t,n,r,i),_()},o.loadPixels=()=&gt;{s=a.getImageData(0,0,o.canvas.width,o.canvas.height),o.pixels=s.data},o.updatePixels=()=&gt;{null!=s&amp;&amp;a.putImageData(s,0,0)},o._incrementPreload=()=&gt;l++,o._decrementPreload=()=&gt;l--,o.loadImage=(e,t)=&gt;{l++;let a=o.createImage(100,100),n=a.canvas.getContext(&quot;2d&quot;),r=new Image;return r.src=e,r.crossOrigin=&quot;Anonymous&quot;,r.onload=()=&gt;{a.width=n.canvas.width=r.naturalWidth,a.height=n.canvas.height=r.naturalHeight,n.drawImage(r,0,0),l--,t&amp;&amp;t(a)},a};let M={};function w(e,t){null==d&amp;&amp;(d=document.createElement(&quot;canvas&quot;).getContext(&quot;2d&quot;)),t??=e||a.canvas.height,e??=a.canvas.width,d.canvas.width==e&amp;&amp;d.canvas.height==t||(d.canvas.width=e,d.canvas.height=t)}function R(){let e=a.canvas.width*a.canvas.height*4;_&amp;&amp;e==_.length||(_=new Uint8ClampedArray(e))}function S(e){d.clearRect(0,0,d.canvas.width,d.canvas.height),d.filter=e,d.drawImage(a.canvas,0,0),a.save(),a.resetTransform(),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.drawImage(d.canvas,0,0),a.restore()}if(M[o.THRESHOLD]=(e,t)=&gt;{void 0===t?t=127.5:t*=255;for(let o=0;o&lt;e.length;o+=4){const a=.2126*e[o]+.7152*e[o+1]+.0722*e[o+2];e[o]=e[o+1]=e[o+2]=a&gt;=t?255:0}},M[o.GRAY]=e=&gt;{for(let t=0;t&lt;e.length;t+=4){const o=.2126*e[t]+.7152*e[t+1]+.0722*e[t+2];e[t]=e[t+1]=e[t+2]=o}},M[o.OPAQUE]=e=&gt;{for(let t=0;t&lt;e.length;t+=4)e[t+3]=255},M[o.INVERT]=e=&gt;{for(let t=0;t&lt;e.length;t+=4)e[t]=255-e[t],e[t+1]=255-e[t+1],e[t+2]=255-e[t+2]},M[o.POSTERIZE]=(e,t)=&gt;{let o=t-1;for(let a=0;a&lt;e.length;a+=4)e[a]=255*(e[a]*t&gt;&gt;8)/o,e[a+1]=255*(e[a+1]*t&gt;&gt;8)/o,e[a+2]=255*(e[a+2]*t&gt;&gt;8)/o},M[o.DILATE]=e=&gt;{R(),_.set(e);let[t,o]=[a.canvas.width,a.canvas.height];for(let a=0;a&lt;o;a++)for(let n=0;n&lt;t;n++){let r=4*Math.max(n-1,0),i=4*Math.min(n+1,t-1),s=4*Math.max(a-1,0)*t,l=4*Math.min(a+1,o-1)*t,h=4*a*t,c=4*n;for(let t=0;t&lt;4;t++){let o=t+s,a=t+l,n=t+h;e[h+c+t]=Math.max(_[o+c],_[n+r],_[n+c],_[n+i],_[a+c])}}},M[o.ERODE]=e=&gt;{R(),_.set(e);let[t,o]=[a.canvas.width,a.canvas.height];for(let a=0;a&lt;o;a++)for(let n=0;n&lt;t;n++){let r=4*Math.max(n-1,0),i=4*Math.min(n+1,t-1),s=4*Math.max(a-1,0)*t,l=4*Math.min(a+1,o-1)*t,h=4*a*t,c=4*n;for(let t=0;t&lt;4;t++){let o=t+s,a=t+l,n=t+h;e[h+c+t]=Math.min(_[o+c],_[n+r],_[n+c],_[n+i],_[a+c])}}},M[o.BLUR]=(e,t)=&gt;{t=t||1,t=Math.floor(t*o._pixelDensity),R(),_.set(e);let n=2*t+1;let r=function(e){let o=new Float32Array(e),a=.3*t+.8,n=a*a*2;for(let t=0;t&lt;e;t++){let r=t-e/2,i=Math.exp(-r*r/n)/(2.5066282746*a);o[t]=i}return o}(n),[i,s]=[a.canvas.width,a.canvas.height];for(let o=0;o&lt;s;o++)for(let a=0;a&lt;i;a++){let s=0,l=0,h=0,c=0;for(let e=0;e&lt;n;e++){let n=4*(o*i+Math.min(Math.max(a-t+e,0),i-1));s+=_[n]*r[e],l+=_[n+1]*r[e],h+=_[n+2]*r[e],c+=_[n+3]*r[e]}let d=4*(o*i+a);e[d]=s,e[d+1]=l,e[d+2]=h,e[d+3]=c}_.set(e);for(let o=0;o&lt;s;o++)for(let a=0;a&lt;i;a++){let l=0,h=0,c=0,d=0;for(let e=0;e&lt;n;e++){let n=4*(Math.min(Math.max(o-t+e,0),s-1)*i+a);l+=_[n]*r[e],h+=_[n+1]*r[e],c+=_[n+2]*r[e],d+=_[n+3]*r[e]}let u=4*(o*i+a);e[u]=l,e[u+1]=h,e[u+2]=c,e[u+3]=d}},o.filter=(e,t)=&gt;{if(o.HARDWARE_FILTERS&amp;&amp;null!=a.filter)if(w(),e==o.THRESHOLD){t??=.5,t=Math.max(t,1e-5),S(&#x60;saturate(0%) brightness(${Math.floor(.5/t*100)}%) contrast(1000000%)&#x60;)}else if(e==o.GRAY)S(&quot;saturate(0%)&quot;);else if(e==o.OPAQUE)d.fillStyle=&quot;black&quot;,d.fillRect(0,0,d.canvas.width,d.canvas.height),d.drawImage(a.canvas,0,0),a.save(),a.resetTransform(),a.drawImage(d.canvas,0,0),a.restore();else if(e==o.INVERT)S(&quot;invert(100%)&quot;);else if(e==o.BLUR)S(&#x60;blur(${Math.ceil(t*o._pixelDensity/1)||1}px)&#x60;);else{let o=a.getImageData(0,0,a.canvas.width,a.canvas.height);M[e](o.data,t),a.putImageData(o,0,0)}else{let o=a.getImageData(0,0,a.canvas.width,a.canvas.height);M[e](o.data,t),a.putImageData(o,0,0)}},o.resize=(e,t)=&gt;{w(),d.drawImage(a.canvas,0,0),o.width=e,o.height=t,a.canvas.width=e*o._pixelDensity,a.canvas.height=t*o._pixelDensity,a.save(),a.resetTransform(),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.drawImage(d.canvas,0,0,a.canvas.width,a.canvas.height),a.restore()},o.get=(e,t,n,r)=&gt;{if(void 0!==e&amp;&amp;void 0===n){let o=a.getImageData(e,t,1,1).data;return new Q5.Color(o[0],o[1],o[2],o[3]/255)}e=e||0,t=t||0,n=n||o.width,r=r||o.height;let i=o.createGraphics(n,r);i.pixelDensity(o._pixelDensity);let s=a.getImageData(e*o._pixelDensity,t*o._pixelDensity,n*o._pixelDensity,r*o._pixelDensity);return i.canvas.getContext(&quot;2d&quot;).putImageData(s,0,0),i},o.set=(e,t,n)=&gt;{if(n.MAGIC==o.MAGIC){let a=o._tint;return o._tint=null,o.image(n,e,t),void(o._tint=a)}for(let r=0;r&lt;o._pixelDensity;r++)for(let i=0;i&lt;o._pixelDensity;i++){let s=4*((t*o._pixelDensity+r)*a.canvas.width+e*o._pixelDensity+i);o.pixels[s]=n._r,o.pixels[s+1]=n._g,o.pixels[s+2]=n._b,o.pixels[s+3]=255*n._a}},o.tinted=function(){let e=o.color(...Array.from(arguments)),t=e._a;e._a=1,w(),d.clearRect(0,0,d.canvas.width,d.canvas.height),d.fillStyle=e,d.fillRect(0,0,d.canvas.width,d.canvas.height),d.globalCompositeOperation=&quot;multiply&quot;,d.drawImage(a.canvas,0,0),d.globalCompositeOperation=&quot;source-over&quot;,a.save(),a.resetTransform();let n=a.globalCompositeOperation;a.globalCompositeOperation=&quot;source-in&quot;,a.drawImage(d.canvas,0,0),a.globalCompositeOperation=n,a.restore(),d.globalAlpha=t,d.clearRect(0,0,d.canvas.width,d.canvas.height),d.drawImage(a.canvas,0,0),d.globalAlpha=1,a.save(),a.resetTransform(),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.drawImage(d.canvas,0,0),a.restore()},o.tint=function(){o._tint=o.color(...Array.from(arguments))},o.noTint=()=&gt;o._tint=null,o.mask=e=&gt;{a.save(),a.resetTransform();let t=a.globalCompositeOperation;a.globalCompositeOperation=&quot;destination-in&quot;,a.drawImage(e.canvas,0,0),a.globalCompositeOperation=t,a.restore()},o.clearTemporaryBuffers=()=&gt;{d=null,u=null,_=null},o.save=(e,t)=&gt;{e=e||&quot;untitled&quot;,t=t||&quot;png&quot;;var o=document.createElement(&quot;a&quot;);o.innerHTML=&quot;[Download]&quot;,o.addEventListener(&quot;click&quot;,(function(){this.href=a.canvas.toDataURL(),this.download=e+&quot;.&quot;+t}),!1),document.body.appendChild(o),o.click(),document.body.removeChild(o)},o.saveCanvas=(e,t,a)=&gt;{if(e.MAGIC==o.MAGIC){a&amp;&amp;e.save(t,a);let o=t.split(&quot;.&quot;);return e.save(o.slice(0,-1).join(&quot;.&quot;),o[o.length-1])}if(t)return o.save(e,t);let n=e.split(&quot;.&quot;);return o.save(n.slice(0,-1).join(&quot;.&quot;),n[n.length-1])},o.remove=()=&gt;{o.noLoop(),o.canvas.remove()},&quot;image&quot;==e)return;o.loadFont=(e,t)=&gt;{let o=e.split(&quot;/&quot;),a=o[o.length-1].split(&quot;.&quot;)[0].replace(&quot; &quot;,&quot;&quot;),n=&#x60;@font-face {\n        font-family: &#x27;${a}&#x27;;\n        src: url(&#x27;${e}&#x27;);\n      }&#x60;;const r=document.createElement(&quot;style&quot;);return r.textContent=n,document.head.append(r),a},o.textFont=e=&gt;{o._textFont=e},o.textSize=e=&gt;{if(void 0===e)return o._textSize;o._textLeading=e,o._textSize=e},o.textLeading=e=&gt;{o._textLeading=e},o.textStyle=e=&gt;{o._textStyle=e},o.textAlign=(e,t)=&gt;{a.textAlign=e,t&amp;&amp;(a.textBaseline=t==o.CENTER?&quot;middle&quot;:t)},o.text=(e,t,n,r)=&gt;{if(void 0===e)return;if(e=e.toString(),!o._doFill&amp;&amp;!o._doStroke)return;a.font=&#x60;${o._textStyle} ${o._textSize}px ${o._textFont}&#x60;;let i=e.split(&quot;\n&quot;);for(let e=0;e&lt;i.length;e++){let s=a.fillStyle;o._fillSet||(a.fillStyle=&quot;black&quot;),o._doFill&amp;&amp;a.fillText(i[e],t,n,r),o._doStroke&amp;&amp;o._strokeSet&amp;&amp;a.strokeText(i[e],t,n,r),o._fillSet||(a.fillStyle=s),n+=o._textLeading}},o.textWidth=e=&gt;(a.font=&#x60;${o._textStyle} ${o._textSize}px ${o._textFont}&#x60;,a.measureText(e).width),o.textAscent=e=&gt;(a.font=&#x60;${o._textStyle} ${o._textSize}px ${o._textFont}&#x60;,a.measureText(e).actualBoundingBoxAscent),o.textDescent=e=&gt;(a.font=&#x60;${o._textStyle} ${o._textSize}px ${o._textFont}&#x60;,a.measureText(e).actualBoundingBoxDescent);var I,E=4095,C=4,D=.5,A=e=&gt;.5*(1-o.cos(e*Math.PI));o.noise=(e,t,o)=&gt;{if(t??=0,o??=0,null==I){I=new Array(4096);for(var a=0;a&lt;4096;a++)I[a]=Math.random()}e&lt;0&amp;&amp;(e=-e),t&lt;0&amp;&amp;(t=-t),o&lt;0&amp;&amp;(o=-o);for(var n,r,i,s,l,h=Math.floor(e),c=Math.floor(t),d=Math.floor(o),u=e-h,_=t-c,m=o-d,p=0,g=.5,v=0;v&lt;C;v++){var f=h+(c&lt;&lt;4)+(d&lt;&lt;8);n=A(u),r=A(_),i=I[f&amp;E],i+=n*(I[f+1&amp;E]-i),s=I[f+16&amp;E],i+=r*((s+=n*(I[f+16+1&amp;E]-s))-i),s=I[(f+=256)&amp;E],s+=n*(I[f+1&amp;E]-s),l=I[f+16&amp;E],s+=r*((l+=n*(I[f+16+1&amp;E]-l))-s),p+=(i+=A(m)*(s-i))*g,g*=D,h&lt;&lt;=1,c&lt;&lt;=1,d&lt;&lt;=1,(u*=2)&gt;=1&amp;&amp;(h++,u--),(_*=2)&gt;=1&amp;&amp;(c++,_--),(m*=2)&gt;=1&amp;&amp;(d++,m--)}return p},o.noiseDetail=(e,t)=&gt;{e&gt;0&amp;&amp;(C=e),t&gt;0&amp;&amp;(D=t)};const b=()=&gt;{let e,t,o=4294967295;return{setSeed(a){e=t=(null==a?Math.random()*o:a)&gt;&gt;&gt;0},getSeed:()=&gt;t,rand:()=&gt;(e^=e&lt;&lt;17,e^=e&gt;&gt;13,e^=e&lt;&lt;5,(e&gt;&gt;&gt;0)/o)}};let T=b();T.setSeed(),o.noiseSeed=e=&gt;{let t=void 0===e?4294967295*Math.random():e;I||(I=new Float32Array(4096));for(var o=0;o&lt;4096;o++)t^=t&lt;&lt;17,t^=t&gt;&gt;13,t^=t&lt;&lt;5,I[o]=(t&gt;&gt;&gt;0)/4294967295},o.randomSeed=e=&gt;T.setSeed(e),o.random=(e,t)=&gt;void 0===e?T.rand():&quot;number&quot;==typeof e?void 0!==t?T.rand()*(t-e)+e:T.rand()*e:e[~~(e.length*T.rand())],o.randomGenerator=e=&gt;{e==o.LCG?T=(()=&gt;{const e=4294967296;let t,o;return{setSeed(a){o=t=(null==a?Math.random()*e:a)&gt;&gt;&gt;0},getSeed:()=&gt;t,rand:()=&gt;(o=(1664525*o+1013904223)%e,o/e)}})():e==o.SHR3&amp;&amp;(T=b()),T.setSeed()};var P=new function(){var e,t,o,a=new Array(128),n=new Array(256),r=new Array(128),i=new Array(128),s=new Array(256),l=new Array(256),h=()=&gt;4294967296*T.rand()-2147483648,c=()=&gt;.5+2.328306e-10*(h()&lt;&lt;0),d=()=&gt;{for(var t,n,s,l,d=3.44262;;){if(t=o*r[e],0==e){do{s=c(),l=c(),t=.2904764*-Math.log(s),n=-Math.log(l)}while(n+n&lt;t*t);return o&gt;0?d+t:-d-t}if(i[e]+c()*(i[e-1]-i[e])&lt;Math.exp(-.5*t*t))return t;if(o=h(),e=127&amp;o,Math.abs(o)&lt;a[e])return o*r[e]}},u=()=&gt;{for(var o;;){if(0==e)return 7.69711-Math.log(c());if(o=t*s[e],l[e]+c()*(l[e-1]-l[e])&lt;Math.exp(-o))return o;if((t=h())&lt;n[e=255&amp;t])return t*s[e]}};this.SHR3=h,this.UNI=c,this.RNOR=()=&gt;(o=h(),e=127&amp;o,Math.abs(o)&lt;a[e]?o*r[e]:d()),this.REXP=()=&gt;(t=h()&gt;&gt;&gt;0)&lt;a[e=255&amp;t]?t*s[e]:u(),this.zigset=()=&gt;{var e,t,o=2147483648,h=4294967296,c=3.442619855899,d=c,u=.00991256303526217,_=7.697117470131487,m=_,p=.003949659822581572;for(e=u/Math.exp(-.5*c*c),a[0]=Math.floor(c/e*o),a[1]=0,r[0]=e/o,r[127]=c/o,i[0]=1,i[127]=Math.exp(-.5*c*c),t=126;t&gt;=1;t--)c=Math.sqrt(-2*Math.log(u/c+Math.exp(-.5*c*c))),a[t+1]=Math.floor(c/d*o),d=c,i[t]=Math.exp(-.5*c*c),r[t]=c/o;for(e=p/Math.exp(-_),n[0]=Math.floor(_/e*h),n[1]=0,s[0]=e/h,s[255]=_/h,l[0]=1,l[255]=Math.exp(-_),t=254;t&gt;=1;t--)_=-Math.log(p/_+Math.exp(-_)),n[t+1]=Math.floor(_/m*h),m=_,l[t]=Math.exp(-_),s[t]=_/h}};function O(){let e=performance.now();if(o._loop&amp;&amp;(n=o._targetFrameRate?setTimeout(O,1e3/o._targetFrameRate):requestAnimationFrame(O)),n&amp;&amp;0!=o._frameCount){if(e-o._lastFrameTime&lt;1e3/(o._targetFrameRate||60)-5)return}o.deltaTime=e-o._lastFrameTime,o._frameRate=1e3/o.deltaTime,o.frameCount++;for(let e of Q5.prototype._methods.pre)e.call(o);x(),r=!0,a.save(),o._drawFn();for(let e of Q5.prototype._methods.post)e.call(o);a.restore();let t=performance.now();o._fps=Math.round(1e3/(t-e)),o._lastFrameTime=e}function k(e){const t=o.canvas.getBoundingClientRect(),a=o.canvas.scrollWidth/o.width||1,n=o.canvas.scrollHeight/o.height||1;return{x:(e.clientX-t.left)/a,y:(e.clientY-t.top)/n,id:e.identifier}}function z(){return o._touchStartedFn.isPlaceHolder&amp;&amp;o._touchMovedFn.isPlaceHolder&amp;&amp;o._touchEndedFn.isPlaceHolder}P.hasInit=!1,o.randomGaussian=(e,t)=&gt;(P.hasInit||(P.zigset(),P.hasInit=!0),P.RNOR()*t+e),o.randomExponential=()=&gt;(P.hasInit||(P.zigset(),P.hasInit=!0),P.REXP()),o.print=console.log,o.cursor=(e,t,a)=&gt;{let n=&quot;&quot;;e.includes(&quot;.&quot;)&amp;&amp;(e=&#x60;url(&quot;${e}&quot;)&#x60;,n=&quot;, auto&quot;),void 0!==t&amp;&amp;(e+=&quot; &quot;+t+&quot; &quot;+a),o.canvas.style.cursor=e+n},o.noCursor=()=&gt;{o.canvas.style.cursor=&quot;none&quot;},o.createCapture=e=&gt;{var t=document.createElement(&quot;video&quot;);return t.playsinline=&quot;playsinline&quot;,t.autoplay=&quot;autoplay&quot;,navigator.mediaDevices.getUserMedia(e).then((e=&gt;{t.srcObject=e})),t.style.position=&quot;absolute&quot;,t.style.opacity=1e-5,t.style.zIndex=-1e3,document.body.appendChild(t),t},o.noLoop=()=&gt;{o._loop=!1,n=null},o.loop=()=&gt;{o._loop=!0,null==n&amp;&amp;O()},o.redraw=()=&gt;O(),o.frameRate=e=&gt;(e&amp;&amp;(o._targetFrameRate=e),o._frameRate),o.getFrameRate=()=&gt;o._frameRate,o.getFPS=()=&gt;o._fps,&quot;graphics&quot;==e&amp;&amp;&quot;image&quot;==e||requestAnimationFrame((()=&gt;{o._preloadFn(),c=performance.now(),function e(){if(l&gt;0)return requestAnimationFrame(e);o._setupFn(),O()}()})),o._updateMouse=function(e){let t=this;t.pmouseX=t.mouseX,t.pmouseY=t.mouseY;let o=t.canvas.getBoundingClientRect(),a=t.canvas.scrollWidth/t.width||1,n=t.canvas.scrollHeight/t.height||1;t.mouseX=(e.clientX-o.left)/a,t.mouseY=(e.clientY-o.top)/n}.bind(o),o._onmousemove=function(e){o._updateMouse(e),this.mouseIsPressed?this._mouseDraggedFn(e):this._mouseMovedFn(e)}.bind(o),o._onmousedown=e=&gt;{o._updateMouse(e),o.mouseIsPressed=!0,o.mouseButton=[o.LEFT,o.CENTER,o.RIGHT][e.button],o._mousePressedFn(e)},o._onmouseup=e=&gt;{o._updateMouse(e),o.mouseIsPressed=!1,o._mouseReleasedFn(e)},o._onclick=e=&gt;{o._updateMouse(e),o.mouseIsPressed=!0,o._mouseClickedFn(e),o.mouseIsPressed=!1},o._onkeydown=e=&gt;{e.repeat||(o.keyIsPressed=!0,o.key=e.key,o.keyCode=e.keyCode,h[o.keyCode]=!0,o._keyPressedFn(e),1==e.key.length&amp;&amp;o._keyTypedFn(e))},o._onkeyup=e=&gt;{o.keyIsPressed=!1,o.key=e.key,o.keyCode=e.keyCode,h[o.keyCode]=!1,o._keyReleasedFn(e)},addEventListener(&quot;mousemove&quot;,o._onmousemove,!1),o.canvas.onmousedown=e=&gt;o._onmousedown(e),o.canvas.onmouseup=e=&gt;o._onmouseup(e),o.canvas.onclick=e=&gt;o._onclick(e),addEventListener(&quot;keydown&quot;,(e=&gt;o._onkeydown(e)),!1),addEventListener(&quot;keyup&quot;,(e=&gt;o._onkeyup(e)),!1),o.keyIsDown=e=&gt;!!h[e],o._ontouchstart=e=&gt;{o.touches=[...e.touches].map(k),z()&amp;&amp;(o.pmouseX=o.mouseX,o.pmouseY=o.mouseY,o.mouseX=o.touches[0].x,o.mouseY=o.touches[0].y,o.mouseIsPressed=!0,o.mouseButton=o.LEFT,o._mousePressedFn(e)||e.preventDefault()),o._touchStartedFn(e)||e.preventDefault()},o._ontouchmove=e=&gt;{o.touches=[...e.touches].map(k),z()&amp;&amp;(o.pmouseX=o.mouseX,o.pmouseY=o.mouseY,o.mouseX=o.touches[0].x,o.mouseY=o.touches[0].y,o.mouseIsPressed=!0,o.mouseButton=o.LEFT,o._mouseDraggedFn(e)||e.preventDefault()),o._touchMovedFn(e)||e.preventDefault()},o._ontouchend=e=&gt;{o.touches=[...e.touches].map(k),z()&amp;&amp;(o.pmouseX=o.mouseX,o.pmouseY=o.mouseY,o.mouseX=o.touches[0].x,o.mouseY=o.touches[0].y,o.mouseIsPressed=!1,o._mouseReleasedFn(e)||e.preventDefault()),o._touchEndedFn(e)||e.preventDefault()},o.canvas.ontouchstart=e=&gt;o._ontouchstart(e),o.canvas.ontouchmove=e=&gt;o._ontouchmove(e),o.canvas.ontouchcancel=o.canvas.ontouchend=e=&gt;o._ontouchend(e),o.hasSensorPermission=!window.DeviceOrientationEvent&amp;&amp;!window.DeviceMotionEvent||!(DeviceOrientationEvent.requestPermission||DeviceMotionEvent.requestPermission),o.requestSensorPermissions=()=&gt;{DeviceOrientationEvent.requestPermission&amp;&amp;DeviceOrientationEvent.requestPermission().then((e=&gt;{&quot;granted&quot;==e&amp;&amp;DeviceMotionEvent.requestPermission&amp;&amp;DeviceMotionEvent.requestPermission().then((e=&gt;{&quot;granted&quot;==e&amp;&amp;(o.hasSensorPermission=!0)})).catch(alert)})).catch(alert)};window.ondeviceorientation=e=&gt;{o.pRotationX=o.rotationX,o.pRotationY=o.rotationY,o.pRotationZ=o.rotationZ,o.pRelRotationX=o.relRotationX,o.pRelRotationY=o.relRotationY,o.pRelRotationZ=o.relRotationZ,o.rotationX=e.beta*(Math.PI/180),o.rotationY=e.gamma*(Math.PI/180),o.rotationZ=e.alpha*(Math.PI/180),o.relRotationX=[-o.rotationY,-o.rotationX,o.rotationY][1+~~(window.orientation/90)],o.relRotationY=[-o.rotationX,o.rotationY,o.rotationX][1+~~(window.orientation/90)],o.relRotationZ=o.rotationZ},window.ondevicemotion=e=&gt;{if(o.pAccelerationX=o.accelerationX,o.pAccelerationY=o.accelerationY,o.pAccelerationZ=o.accelerationZ,!e.acceleration){let r=((e,t)=&gt;[(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3])/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]),(e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7])/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]),(e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11])/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15])])((n=o.rotationY,t=[o.cos(n),0,o.sin(n),0,0,1,0,0,-o.sin(n),0,o.cos(n),0,0,0,0,1],a=(e=&gt;[1,0,0,0,0,o.cos(e),-o.sin(e),0,0,o.sin(e),o.cos(e),0,0,0,0,1])(o.rotationX),[t[0]*a[0]+t[1]*a[4]+t[2]*a[8]+t[3]*a[12],t[0]*a[1]+t[1]*a[5]+t[2]*a[9]+t[3]*a[13],t[0]*a[2]+t[1]*a[6]+t[2]*a[10]+t[3]*a[14],t[0]*a[3]+t[1]*a[7]+t[2]*a[11]+t[3]*a[15],t[4]*a[0]+t[5]*a[4]+t[6]*a[8]+t[7]*a[12],t[4]*a[1]+t[5]*a[5]+t[6]*a[9]+t[7]*a[13],t[4]*a[2]+t[5]*a[6]+t[6]*a[10]+t[7]*a[14],t[4]*a[3]+t[5]*a[7]+t[6]*a[11]+t[7]*a[15],t[8]*a[0]+t[9]*a[4]+t[10]*a[8]+t[11]*a[12],t[8]*a[1]+t[9]*a[5]+t[10]*a[9]+t[11]*a[13],t[8]*a[2]+t[9]*a[6]+t[10]*a[10]+t[11]*a[14],t[8]*a[3]+t[9]*a[7]+t[10]*a[11]+t[11]*a[15],t[12]*a[0]+t[13]*a[4]+t[14]*a[8]+t[15]*a[12],t[12]*a[1]+t[13]*a[5]+t[14]*a[9]+t[15]*a[13],t[12]*a[2]+t[13]*a[6]+t[14]*a[10]+t[15]*a[14],t[12]*a[3]+t[13]*a[7]+t[14]*a[11]+t[15]*a[15]]),[0,0,-9.80665]);o.accelerationX=e.accelerationIncludingGravity.x+r[0],o.accelerationY=e.accelerationIncludingGravity.y+r[1],o.accelerationZ=e.accelerationIncludingGravity.z-r[2]}var t,a,n},o.year=()=&gt;(new Date).getFullYear(),o.day=()=&gt;(new Date).getDay(),o.hour=()=&gt;(new Date).getHours(),o.minute=()=&gt;(new Date).getMinutes(),o.second=()=&gt;(new Date).getSeconds(),o.millis=()=&gt;performance.now()-c,o._loadFile=(e,t,o)=&gt;{l++;let a={};return fetch(e).then((e=&gt;&quot;json&quot;==o?e.json():&quot;text&quot;==o?e.text():void 0)).then((e=&gt;{l--,Object.assign(a,e),t&amp;&amp;t(e)})),a},o.loadStrings=(e,t)=&gt;o._loadFile(e,t,&quot;text&quot;),o.loadJSON=(e,t)=&gt;o._loadFile(e,t,&quot;json&quot;),o.loadSound=(e,t)=&gt;{l++;let o=new Audio(e);return o.addEventListener(&quot;canplaythrough&quot;,(()=&gt;{l--,t&amp;&amp;t(o)})),o.load(),o.setVolume=e=&gt;o.volume=e,o},o.Element=function(e){this.elt=e},o._elements=[],&quot;global&quot;==e&amp;&amp;(Object.assign(Q5,o),delete Q5.Q5),Q5.Image??=_Q5Image;for(let e of Q5.prototype._methods.init)e.call(o);if(&quot;global&quot;==e)for(let e in o)&quot;function&quot;==typeof o[e]?window[e]=o[e]:Object.defineProperty(window,e,{get:()=&gt;o[e],set:t=&gt;o[e]=t});let F=&quot;global&quot;==e?window:o,N=[&quot;setup&quot;,&quot;draw&quot;,&quot;preload&quot;,&quot;mouseMoved&quot;,&quot;mousePressed&quot;,&quot;mouseReleased&quot;,&quot;mouseDragged&quot;,&quot;mouseClicked&quot;,&quot;keyPressed&quot;,&quot;keyReleased&quot;,&quot;keyTyped&quot;,&quot;touchStarted&quot;,&quot;touchMoved&quot;,&quot;touchEnded&quot;];for(let e of N){let t=&quot;_&quot;+e+&quot;Fn&quot;;o[t]=()=&gt;{},o[t].isPlaceHolder=!0,F[e]?o[t]=F[e]:Object.defineProperty(o,e,{set:e=&gt;{o[t]=e}})}&quot;function&quot;==typeof e&amp;&amp;e(o)}Q5.Color=class{constructor(e,t,o,a){this.MAGIC=786698,this._r=e,this._g=t,this._b=o,this._a=a,this._h=0,this._s=0,this._v=0,this._hsvInferred=!1}setRed(e){this._r=e,this._hsvInferred=!1}setGreen(e){this._g=e,this._hsvInferred=!1}setBlue(e){this._b=e,this._hsvInferred=!1}setAlpha(e){this._a=e/255,this._hsvInferred=!1}_inferHSV(){this._hsvInferred||([this._h,this._s,this._v]=Q5.Color._rgb2hsv(this._r,this._g,this._b),this._hsvInferred=!0)}toString(){return&#x60;rgba(${Math.round(this._r)},${Math.round(this._g)},${Math.round(this._b)},${~~(1e3*this._a)/1e3})&#x60;}},Q5.Color._rgb2hsv=(e,t,o)=&gt;{let a,n,r,i,s;return a=e&lt;t?e&lt;o?e:o:t&lt;o?t:o,n=e&gt;t?e&gt;o?e:o:t&gt;o?t:o,s=100*n/255,0==s?(r=0,i=0,[r,i,s]):(i=100*(n-a)/n,0==i?(r=0,[r,i,s]):(r=n==e?0+60*(t-o)/(n-a):n==t?120+60*(o-e)/(n-a):240+60*(e-t)/(n-a),[r,i,s]))},Q5.Color._hsv2rgb=(e,t,o)=&gt;{let a,n,r,i,s,l,h,c,d;if(0==t)return a=o,n=o,r=o,[255*a,255*n,255*r];switch(i=e,i&gt;360&amp;&amp;(i=0),i/=60,s=~~i,l=i-s,h=o*(1-t),c=o*(1-t*l),d=o*(1-t*(1-l)),s){case 0:a=o,n=d,r=h;break;case 1:a=c,n=o,r=h;break;case 2:a=h,n=o,r=d;break;case 3:a=h,n=c,r=o;break;case 4:a=d,n=h,r=o;break;default:a=o,n=h,r=c}return[255*a,255*n,255*r]};class _Q5Image extends Q5{constructor(e,t){super(&quot;image&quot;),this.createCanvas(e,t),this._loop=!1}}Q5._friendlyError=(e,t)=&gt;console.error(t+&quot;: &quot;+e),Q5.prototype._methods={init:[],pre:[],post:[],remove:[]},Q5.prototype.registerMethod=function(){Q5.prototype._methods[arguments[0]].push(arguments[1])},Q5.prototype.registerPreloadMethod=()=&gt;{},Q5._validateParameters=()=&gt;!0,window.p5??=Q5,document.addEventListener(&quot;DOMContentLoaded&quot;,(()=&gt;{Q5._hasGlobal||new Q5(&quot;auto&quot;)}));

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
