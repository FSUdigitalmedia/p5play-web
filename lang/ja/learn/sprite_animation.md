# 0-0

## アニメーションの読み込み方法

アニメーションは、十分な速度で連続して表示される一連の画像で、運動の様子を表現します。

`loadAni`関数には、シーケンス、リスト、スプライトシートの 3 つのモードがあります。

このミニ例では、クラウドブリージングアニメーションは、最初の画像へのパスとシーケンス内の最後の画像のインデックスが指定された番号付き画像のシーケンスを使用して読み込まれます。

`animation`関数は p5.js の`image`関数に似ています。 p5.js の draw 関数で使用して、位置にアニメーションを表示します。

# 0-1

このミニ例では、`loadAnimation`関数に画像のリストが与えられます。

`ani.frameDelay`プロパティは、アニメーションの画像が次の画像が表示される前に表示されるフレーム数を定義します。 デフォルトは 4 です。 値が大きいほどアニメーションの再生速度が遅くなります。 フレームディレイが 1 の場合、アニメーションは可能な限り早く再生されます。

試してみてください！ このミニ例の frameDelay を変更してみてください。

# 0-2

このミニ例では、スプライトシートからアニメーションを読み込みます。スプライトシートとは、アニメーションのすべてのフレームを含む単一の画像です。このスケッチのスプライトシートを見て、それがどのように見えるかを確認してください。

スプライトシートモードでは、アトラスオブジェクトを使用して各フレームのサイズとアニメーションのフレーム数を指定できます。

プログラムが開始したときにアニメーションを本当に必要とする場合は、setup の代わりに p5.js の preload 関数で読み込む必要があります。

# 1-0

## アニメーション

p5play はアニメーションに対する完全な制御を提供します。

キーボードを使用して、アニメーションを制御するさまざまな方法を試してみてください！

# 2-0

## アニメーション付きスプライト

`sprite.addAni`関数を使用して、スプライトにアニメーションを追加できます。 また、`loadAni`と同様にアニメーションを読み込むこともできます。 最初の入力パラメータとしてオプションで、アニメーションの名前を指定できます。

左マウスボタンを押してみてください。
`sprite.debug`プロパティが true に設定されていると、
スプライトの物理ボディコライダーを見ることができます。

# 2-1

## スプライトのアニメーションを制御する

`sprite.ani`にはスプライトの現在のアニメーションが格納されており、
異なる
アニメーションの名前に設定することで変更できます。

`sprite.mirror`はスプライトを
水平または垂直に反転させるために使用できます。

左と右を押してゴーストを動かしてみてください。

スペースバーを押してアニメーションを停止してみてください。

# 3-0

## アニメーション付きグループ

アニメーションがグループに追加されると、新しいグループ スプライトはそのアニメーションのコピーを受け取ります。

このミニ例では、スプラットをあまりにも近づけると、そのコライダーが重ならなくなるまで離れて動きます。 コライダーのサイズはアニメーションのサイズから取得されます。

マウスをクリックして新しいスプラットを追加してみてください！

# 4-0

## 複数のアニメーションを持つスプライトシート

同じスプライトシート画像から複数のアニメーションを読み込むには、まずスプライトまたはグループの`spriteSheet`プロパティを設定します。

次に、`addAnimations` / `addAnis`関数を使用します。 彼らはアニメーション名をキーとして、スプライトシートアトラスを値として使用するオブジェクトを受け入れます。

アトラスオブジェクトを使用する方が、各フレームの座標を手動で指定するよりもはるかに簡単です！

アトラスオブジェクトは次のプロパティを持つことができます：

`x`、`y`、`pos`、`w`/`width`、`h`/`height`、`size`/`frameSize`、`row`、`col`、`frames`/`frameCount`、`delay`/`frameDelay`、そして`rotation`。

"hero"例では、`Sprite`コンストラクタでヒーロースプライトのサイズが 32x32 ピクセルに設定されています。 そのサイズは与えられた行値の乗数として使用されます。

このリンクをクリックして、例で使用されている[完全なスプライトシート](assets/questKid.png)を見てください。

あなたが本当に p5play がどれだけ良いかを感謝したいなら、私の例のコードを[この Phaser デモ](https://labs.phaser.io/view.html?src=src/animation/create%20animation%20from%20sprite%20sheet.js)と比較してみてください。 ハ！

アニメーションの各フレームを同じサイズにして左から右に順に並べることをお勧めします。 そうでなければ、各フレームの位置を手動で指定する必要があります。これは、アトラスオブジェクトの代わりに座標の配列を使用して行うことができます。

# 4-1

## anis

すべてのスプライトとグループには、そのアニメーションを格納する`animations` / `anis`オブジェクトがあります。キーはアニメーションの名前で、値はアニメーションオブジェクトです。これはグループが動作するのと同じように、ソフトとダイナミックな継承を利用します。

`ani.offset`プロパティは、アニメーションの位置をスプライトの位置に対して調整するために使用されます。

`sprite.pixelPerfect`が true に設定されている場合、スプライトは整数の座標に描画されますが、その衝突体の正確な位置は保持されます。これはピクセルアートゲームに役立ちます！

# 5-0

## アニメーションのシーケンシング

`sprite.ani`は、アニメーションオブジェクト、アニメーションの名前、または順序に再生されるアニメーションの名前の配列に設定することができます。

デフォルトでは、ループが有効になっている場合、シーケンスの最後のアニメーションがループされます。シーケンス全体をループするには、最後のアニメーション名として`'**'`を使用します。代わりに、シーケンスを最後に停止させたい場合は、最後のアニメーション名として`';;'`を使用します。

この例では、ヒーローキャラクターを WASD または矢印キーを使用して画面上を移動させる方法を示しています！

# 6-0

## 高度なアニメーションのシーケンシング

裏側では、`sprite.ani`の設定は`sprite.changeAni`非同期関数を使用します。この関数を直接使用して、アニメーションが再生を終えるのを待つことができます。

例は近日公開予定！
