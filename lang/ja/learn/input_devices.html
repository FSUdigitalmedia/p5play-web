<!DOCTYPE html>
<html lang="ja" class="ja">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>p5play : Input</title>
	<link rel="icon" href="/assets/favicon.png">
	<link rel="stylesheet" href="/learn/style.css">
</head>

<body class="dark">
	<article>
		<nav id="topNav">
			<a href="index.html" id="logoLink" class="active">
				<img alt="p5play logo" src="/assets/p5play_logo.svg" class="logo">
				<span>p5play</span>
			</a>
			<hr>
			<a href="sprite.html">Sprite</a>
			<a href="group.html">Group</a>
			<a href="sprite_animation.html">Ani</a>
			<a href="input_devices.html" class="active">Input</a>
			<a href="camera.html">Camera</a>
			<a href="joints.html">Joints</a>
			<a href="canvas.html">...</a>
			<hr>
			<a id="darkMode" onclick="toggleDarkMode()" tabindex="0" role="button" title="dark mode toggle">
				<div id="darkModeIcon"></div>
			</a>
		</nav>

		<div class="break"></div>

		<div id="page-0" class="page">
			<md id="md0-0">
				<h2 id="入力デバイス">入力デバイス</h2>
				<p>p5play で利用可能な入力デバイスは次のとおりです:</p>
				<ul>
					<li><code>kb</code>または<code>keyboard</code>はキーボード</li>
					<li><code>mouse</code>はマウス</li>
					<li><code>contro</code>または<code>controllers</code>はゲームコントローラー</li>
				</ul>
				<p>これらの入力デバイスはすべて、入力の状態を取得するためのシンプルな関数、<code>presses</code>、<code>pressing</code>、<code>released</code>を使用します。
				</p>
				<p>また、彼らの全ての入力の状態をプロパティとして保存します。例えば、<code>kb.space</code>はユーザーがスペースキーを押し続けているフレーム数を保存します。ユーザーが入力を解放するとリセットされます。
				</p>
			</md>
			<script type="mie/p5" id="hidden" base-0="" hide="">
function setup() {
	new Canvas(238, 100);
	frameRate(30);
	kb.holdThreshold = 6;
}

function draw() {
	clear();
}
			</script>
			<div class="minis">
				<script type="mie/p5" id="presses" base="0">
if (kb.presses(' ')) {
	background(0, 255, 0);
}
				</script>
				<script type="mie/p5" id="pressing" base="0">
if (kb.pressing(' ')) {
	background(0, 255, 0);
}
				</script>
				<script type="mie/p5" id="holding" base="0">
if (kb.space >= 12) {
	background(0, 255, 0);
}
				</script>
				<script type="mie/p5" id="released" base="0">
if (kb.released(' ')) {
	background(0, 255, 0);
}
				</script>
			</div>
			<md id="md0-1">
				<p>p5play は、<a
						href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_OR">ブール論理</a>を使用して、異なる入力デバイスを介して同じアクションをトリガーすることを容易にします。
				</p>
				<p>ミニ例では、スプライトはスペースキーを押すかマウスをクリックすると赤くなります。</p>
			</md>
			<script type="mie/p5" id="hidden" base-1="" hide="">
let sprite;

function setup() {
	new Canvas(500, 100);
	sprite = new Sprite();
}

function draw() {
	clear();
	sprite.color = 'yellow';
}
			</script>
			<script type="mie/p5" id="multi-input" base="1">
if (kb.pressing('space') || mouse.pressing()) {
	sprite.color = 'green';
}
			</script>
		</div>
		<div id="page-1" class="page">
			<md id="md1-0">
				<h2 id="キーボード">キーボード</h2>
				<p><code>kb</code> は、'enter'、'backspace'、'control' を含む、キーボードのほぼすべてのキーを追跡します。</p>
				<p>大文字と小文字の文字入力は区別しません。ユーザーがシフトキーを押しているかどうかを確認するには、<code>kb.pressing('shift')</code> を使用してください。</p>
				<p>WASD キーはプレイヤーキャラクターの移動を制御するためによく使用されるため、WASD および矢印キーの押下を検出するために 'up'、'down'、'left'、'right'
					の方向名を使用できます。</p>
				<p>矢印キーは、'arrowUp'、'arrowDown'、'arrowLeft'、'arrowRight' を使用して個別に検出することもできます。</p>
				<p>ローカルの二人用ゲームでは、第二のプレイヤーが移動に IJKL キーを使用することが一般的です。これらのキーは 'up2'、'down2'、'left2'、'right2' を使用して参照できます。
				</p>
				<p><a
						href="https://github.com/quinton-ashley/p5play/wiki/FAQ#is-p5plays-kb-input-system-compatible-with-non-qwerty-keyboards">QWERTY
						以外のキーボードを使用していますか？</a></p>
			</md>
			<script type="mie/p5" id="keyboard-movement">
let player;

function setup() {
	new Canvas(500, 160);
	player = new Sprite();
}

function draw() {
	clear();

	player.speed = 3;
	
	if (kb.pressing('up')) {
		player.direction = -90;
	} else if (kb.pressing('down')) {
		player.direction = 90;
	} else if (kb.pressing('left')) {
		player.direction = 180;
	} else if (kb.pressing('right')) {
		player.direction = 0;
	} else {
	  player.speed = 0;
	}
}
			</script>
		</div>
		<div id="page-2" class="page">
			<md id="md2-0">
				<h2 id="マウス">マウス</h2>
				<p>デフォルトのマウス入力は「left」ボタンで、トラックパッドでの単一指のクリックです。また、'right'（二本指クリック）と 'center' も使用できます。</p>
				<p><code>mouse.x</code> と <code>mouse.y</code> はマウスのキャンバス上の位置を格納します。</p>
				<p><code>mouse.visible</code> は、マウスが表示されるかどうかを決定するブール値です。</p>
				<p><code>mouse.cursor</code> は <a
						href="https://developer.mozilla.org/en-US/docs/Web/CSS/cursor">カーソルスタイル</a> に設定できます。デフォルトは
					'default' で、他のオプションには 'grab'、'move'、'pointer'、'wait' などがあります。</p>
			</md>
			<script type="mie/p5" id="hidden" base-2="" hide="">
function setup() {
	new Canvas(500, 100);
}

function draw() {}
			</script>
			<script type="mie/p5" id="mouse.visible" base="2">
mouse.visible = false;
			</script>
		</div>
		<div id="page-3" class="page">
			<md id="md3-0">
				<h2 id="スプライトマウス">スプライトマウス</h2>
				<p>物理的なコライダーを持つスプライトは、スプライト上のマウス入力を検出するための自身のマウスオブジェクトを持っています。
					<code>sprite.mouse</code>オブジェクトは、<code>mouse</code>入力オブジェクトと同様ですが、追加の機能があります。
				</p>
				<p><code>hovers</code>と<code>hovering</code>は、ユーザーがマウスをスプライト上に移動したときに検出します。</p>
				<p><code>dragging</code>は、ユーザーがマウスボタンをクリックし続けてマウスを移動するときに検出します。
					<code>mouse.x</code>はキャンバス上のマウスの x 位置であり、<code>sprite.mouse.x</code>はスプライトに対するマウスの x 位置です。
				</p>
			</md>
			<script type="mie/p5" id="sprite.mouse">
let sprite;

function setup() {
	new Canvas(500, 100);
	sprite = new Sprite();
}

function draw() {
	clear();
	sprite.color = 'yellow';

	if (mouse.pressing()) sprite.color = 'red';

	if (sprite.mouse.hovering()) mouse.cursor = 'grab';
	else mouse.cursor = 'default';

	if (sprite.mouse.pressing()) sprite.color = 'green';

	if (sprite.mouse.dragging()) {
		sprite.moveTowards(
			mouse.x + sprite.mouse.x,
			mouse.y + sprite.mouse.y,
			1 // full tracking
		);
	}
}
			</script>
		</div>
		<div id="page-4" class="page">
			<md id="md4-0">
				<h2 id="ゲームコントローラー">ゲームコントローラー</h2>
				<p><code>contro</code>または<code>controllers</code>オブジェクトは、ゲームコントローラーのボタンの入力状態を提供します：</p>
				<p>"a", "b", "x", "y", "l" (左バンパー), "r" (右バンパー), "lt" (左トリガー), "rt" (右トリガー), "up", "down", "left",
					"right" (dpad), "start", "select"</p>
				<p>また、アナログスティックの<code>x</code>および<code>y</code>軸の位置も提供します：<code>leftStick</code>および<code>rightStick</code>。軸の値は-1
					から 1 の範囲で、0 は中央です。</p>
				<p><code>contro</code>オブジェクトはまた、Web
					ブラウザによって検出されたすべての接続されたゲームコントローラーを含む配列でもあります。接続されたコントローラーはインデックスでアクセスします。例えば、<code>contro[0]</code>と<code>contro[1]</code>は最初と
					2 番目のコントローラーです。デフォルトでは<code>contro</code>は<code>contro[0]</code>を参照します。</p>
				<p>試してみてください！接続されたゲームコントローラーの任意のボタンを押すと、p5play によって検出されます。</p>
			</md>
			<script type="mie/p5" id="controller-test">
let sprite;

function setup() {
	new Canvas(500, 200);
	sprite = new Sprite(250, 100, 10, 10);
}

function draw() {
	clear();

	if (contro.pressing('a')) {
		sprite.color = 'green';
	} else if (contro.pressing('b')) {
		sprite.color = 'red';
	} else {
		sprite.color = 'yellow';
	}

	sprite.x = 250 + contro.leftStick.x * 80;
	sprite.y = 100 + contro.leftStick.y * 80;
}
			</script>
		</div>
		<div id="page-5" class="page">
			<md id="md5-0">
				<h2 id="タッチ">タッチ</h2>
				<p>例は近日公開予定です！</p>
			</md>
		</div>

		<div class="break"></div>
		<div id="toc">
			<a id="prevPage" class="navLink">前のページ</a>
			<div id="pageNav" class="submenu">
				<a data-page="0" href="input_devices.html?page=0">入力の検出</a>
				<a data-page="1" href="input_devices.html?page=1">キーボード</a>
				<a data-page="2" href="input_devices.html?page=2">マウス</a>
				<a data-page="3" href="input_devices.html?page=3">スプライトーマウス</a>
				<a data-page="4" href="input_devices.html?page=4">ゲームコントローラ</a>
				<a data-page="5" href="input_devices.html?page=5">タッチ</a>
			</div>
			<a id="nextPage" class="navLink">次のページ</a>
		</div>
		<div class="break"></div>
		<footer id="credits" class="text-small">クリントン・アシュリー（@quinton-ashley）によって作成されました 著作権 2022-2023</footer>
	</article>

	<script src="/v3/q5.min.js"></script>
<script src="/v3/planck.min.js"></script>
<script src="/v3/p5play.min.js"></script>
<script>
window.mie = { autoLoad: false };

	</script>
	<script src="/learn/mie.js"></script>
<script src="/learn/learn.js"></script>
</body>

</html>
